---
title: Loki MCP сервер
description: MCP сервер, который предоставляет AI-ассистентам возможность выполнять запросы и анализировать логи из Grafana Loki, обеспечивая интеллектуальный анализ логов, устранение неполадок и мониторинг рабочих процессов.
tags:
- Monitoring
- DevOps
- Analytics
- API
- Search
author: Community
featured: false
---

MCP сервер, который предоставляет AI-ассистентам возможность выполнять запросы и анализировать логи из Grafana Loki, обеспечивая интеллектуальный анализ логов, устранение неполадок и мониторинг рабочих процессов.

## Установка

### Из исходного кода

```bash
git clone <repository-url>
cd loki-mcp-server
pip install -e .
```

### Установка для разработки

```bash
pip install -e ".[dev]"
```

## Конфигурация

### Claude Desktop

```json
{
  "mcpServers": {
    "loki": {
      "command": "loki-mcp-server",
      "env": {
        "LOKI_URL": "http://localhost:3100"
      }
    }
  }
}
```

## Доступные инструменты

| Инструмент | Описание |
|------------|----------|
| `query_logs` | Выполнение LogQL запросов напрямую к Loki с поддержкой диапазонных и мгновенных запросов |
| `search_logs` | Поиск логов по ключевым словам с расширенной фильтрацией и сопоставлением паттернов |
| `get_labels` | Обнаружение доступных меток и их значений для исследования потоков |

## Возможности

- Выполнение LogQL запросов к Loki с поддержкой диапазонных и мгновенных запросов
- Поиск логов по ключевым словам с расширенной фильтрацией и сопоставлением паттернов
- Получение доступных меток логов и значений меток для исследования потоков
- Встроенное кеширование и оптимизированное выполнение запросов
- Поддержка нескольких методов аутентификации (базовая аутентификация, bearer токены)
- Структурированный вывод с временными метками, метками и контекстной информацией

## Переменные окружения

### Обязательные
- `LOKI_URL` - URL вашего экземпляра Loki

### Опциональные
- `LOKI_USERNAME` - Имя пользователя для базовой аутентификации
- `LOKI_PASSWORD` - Пароль для базовой аутентификации
- `LOKI_BEARER_TOKEN` - Bearer токен для аутентификации

## Ресурсы

- [GitHub Repository](https://github.com/mo-silent/loki-mcp-server)

## Примечания

Требует Python 3.8 или выше и доступ к экземпляру Grafana Loki. Сервер запускается командой 'loki-mcp-server' и слушает сообщения MCP протокола через stdio. Поддерживает как локальную разработку, так и продакшн конфигурации с аутентификацией.