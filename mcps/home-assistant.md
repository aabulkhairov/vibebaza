---
title: Home Assistant MCP сервер
description: Сервер Model Context Protocol, который позволяет AI-ассистентам напрямую взаимодействовать с экземплярами Home Assistant, давая возможность запрашивать состояния устройств, управлять сущностями, управлять автоматизациями и устранять неполадки в системах умного дома.
tags:
- Integration
- Monitoring
- Productivity
- API
author: Community
featured: false
install_command: claude mcp add hass-mcp -e HA_URL=http://homeassistant.local:8123
  -e HA_TOKEN=YOUR_LONG_LIVED_TOKEN -- docker run -i --rm -e HA_URL -e HA_TOKEN voska/hass-mcp
---

Сервер Model Context Protocol, который позволяет AI-ассистентам напрямую взаимодействовать с экземплярами Home Assistant, давая возможность запрашивать состояния устройств, управлять сущностями, управлять автоматизациями и устранять неполадки в системах умного дома.

## Установка

### Docker

```bash
docker pull voska/hass-mcp:latest
```

### uvx

```bash
uvx hass-mcp
```

## Конфигурация

### Claude Desktop (Docker)

```json
{
  "mcpServers": {
    "hass-mcp": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-e",
        "HA_URL",
        "-e",
        "HA_TOKEN",
        "voska/hass-mcp"
      ],
      "env": {
        "HA_URL": "http://homeassistant.local:8123",
        "HA_TOKEN": "YOUR_LONG_LIVED_TOKEN"
      }
    }
  }
}
```

### Claude Desktop (uvx)

```json
{
  "mcpServers": {
    "hass-mcp": {
      "command": "uvx",
      "args": ["hass-mcp"],
      "env": {
        "HA_URL": "http://homeassistant.local:8123",
        "HA_TOKEN": "YOUR_LONG_LIVED_TOKEN"
      }
    }
  }
}
```

## Доступные инструменты

| Инструмент | Описание |
|------|-------------|
| `get_version` | Получить версию Home Assistant |
| `get_entity` | Получить состояние конкретной сущности с опциональной фильтрацией полей |
| `entity_action` | Выполнить действия с сущностями (включить, выключить, переключить) |
| `list_entities` | Получить список сущностей с опциональной фильтрацией по доменам и поиском |
| `search_entities_tool` | Найти сущности, соответствующие запросу |
| `domain_summary_tool` | Получить сводку по сущностям домена |
| `list_automations` | Получить список всех автоматизаций |
| `call_service_tool` | Вызвать любой сервис Home Assistant |
| `restart_ha` | Перезапустить Home Assistant |
| `get_history` | Получить историю состояний сущности |
| `get_error_log` | Получить журнал ошибок Home Assistant |

## Возможности

- Запрос состояния устройств и датчиков
- Управление светом, выключателями и другими сущностями
- Получение сводок по умному дому
- Устранение неполадок в автоматизациях и сущностях
- Поиск конкретных сущностей
- Создание управляемых диалогов для распространенных задач
- Управление сущностями с состояниями и контролем
- Сводки по доменам для получения высокоуровневой информации
- Поддержка автоматизаций для их перечисления и управления
- Умный поиск для нахождения сущностей по имени, типу или состоянию

## Переменные окружения

### Обязательные
- `HA_URL` - URL вашего экземпляра Home Assistant
- `HA_TOKEN` - токен долгосрочного доступа Home Assistant

## Примеры использования

```
Какое текущее состояние света в гостиной?
```

```
Выключи весь свет на кухне
```

```
Покажи все мои датчики, которые содержат данные температуры
```

```
Дай мне сводку по климатическим сущностям
```

```
Создай автоматизацию, которая включает свет на закате
```

## Ресурсы

- [GitHub Repository](https://github.com/voska/hass-mcp)

## Примечания

Включает управляемые диалоговые подсказки для создания автоматизаций, отладки, устранения неполадок сущностей, оптимизации рутин, проверки состояния автоматизаций, согласованности именования сущностей и генерации макета дашборда. Предоставляет конечные точки ресурсов для прямого доступа к сущностям и возможности поиска.