---
title: Databricks Smart SQL MCP сервер
description: MCP сервер, который позволяет AI агентам взаимодействовать с метаданными Databricks Unity Catalog, выполнять SQL запросы и исследовать линейность данных, включая зависимости ноутбуков и задач для комплексного анализа данных.
tags:
- Database
- Analytics
- AI
- Cloud
- Integration
author: RafaelCartenet
featured: false
---

MCP сервер, который позволяет AI агентам взаимодействовать с метаданными Databricks Unity Catalog, выполнять SQL запросы и исследовать линейность данных, включая зависимости ноутбуков и задач для комплексного анализа данных.

## Установка

### Pip

```bash
pip install -r requirements.txt
```

### UV

```bash
uv pip install -r requirements.txt
```

## Конфигурация

### Cursor (UV)

```json
{
    "mcpServers": {
        "databricks": {
            "command": "uv",
            "args": [
                "--directory",
                "/path/to/your/mcp-databricks-server",
                "run",
                "main.py"
            ]
        }
    }
}
```

### Cursor (Python)

```json
{
    "mcpServers": {
        "databricks": {
            "command": "python",
            "args": [
                "/path/to/your/mcp-databricks-server/main.py"
            ]
        }
    }
}
```

## Доступные инструменты

| Инструмент | Описание |
|------|-------------|
| `list_uc_catalogs` | Выводит список всех доступных Unity Catalog с их именами, описаниями и типами |
| `describe_uc_catalog` | Предоставляет обзор конкретного Unity Catalog, перечисляя все его схемы с именами и описаниями... |
| `describe_uc_schema` | Предоставляет детальную информацию о конкретной схеме в Unity Catalog, опционально включая... |
| `describe_uc_table` | Предоставляет детальное описание таблицы Unity Catalog с комплексными возможностями линейности в... |
| `execute_sql_query` | Выполняет SQL запросы к Databricks SQL warehouse и возвращает отформатированные результаты |

## Возможности

- Выполнение произвольных SQL запросов с помощью Databricks SDK
- Markdown вывод, оптимизированный для LLM, для всех описательных инструментов
- Комплексное исследование Unity Catalog и доступ к метаданным
- Анализ линейности данных, включая связи между таблицами
- Обнаружение зависимостей ноутбуков и задач
- Понимание на уровне кода через исследование содержимого ноутбуков
- Анализ потоков данных от начала до конца - от получения до потребления
- Анализ влияния и отладка проблем в пайплайнах данных

## Переменные окружения

### Обязательные
- `DATABRICKS_HOST` - Имя хоста вашего экземпляра Databricks
- `DATABRICKS_TOKEN` - Ваш персональный токен доступа Databricks
- `DATABRICKS_SQL_WAREHOUSE_ID` - ID SQL Warehouse для выполнения запросов и получения линейности

## Примеры использования

```
Найти и исследовать доступные каталоги данных и схемы
```

```
Понять структуры таблиц и детали столбцов перед запросами
```

```
Отследить линейность данных для понимания зависимостей выше и ниже по потоку
```

```
Обнаружить ноутбуки и задачи, которые обрабатывают конкретные таблицы
```

```
Выполнять сложные SQL запросы для анализа и получения данных
```

## Ресурсы

- [GitHub Repository](https://github.com/RafaelCartenet/mcp-databricks-server)

## Примечания

Требует Python 3.10+. Идентичность, связанная с DATABRICKS_TOKEN, должна иметь соответствующие разрешения Unity Catalog (USE CATALOG, USE SCHEMA, SELECT на таблицы) и разрешение CAN_USE на SQL Warehouse. Для продакшн использования рекомендуется сервисный принципал с узко определенными разрешениями.