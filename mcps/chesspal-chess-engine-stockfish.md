---
title: ChessPal Chess Engine (stockfish) MCP сервер
description: Шахматный движок на базе Stockfish, представленный как MCP сервер с использованием FastMCP. Рассчитывает лучшие ходы и предоставляет шахматный анализ через MCP инструменты, доступные по транспортам SSE или stdio.
tags:
- AI
- API
- Analytics
- Integration
- Code
author: wilson-urdaneta
featured: false
---

Шахматный движок на базе Stockfish, представленный как MCP сервер с использованием FastMCP. Рассчитывает лучшие ходы и предоставляет шахматный анализ через MCP инструменты, доступные по транспортам SSE или stdio.

## Установка

### PyPI

```bash
pip install chesspal-mcp-engine
```

### Из исходного кода

```bash
git clone https://github.com/wilson-urdaneta/dylangames-mcp-chess-engine.git
cd dylangames-mcp-chess-engine
poetry install
```

### Режим SSE (по умолчанию)

```bash
poetry run python -m chesspal_mcp_engine.main
# Или
poetry run chesspal-mcp-engine
```

### Режим Stdio

```bash
poetry run python -m chesspal_mcp_engine.main --transport stdio
# Или
poetry run chesspal-mcp-engine --transport stdio
```

## Доступные инструменты

| Инструмент | Описание |
|------|-------------|
| `get_best_move_tool` | Получить лучший ход для данной шахматной позиции |
| `validate_move_tool` | Проверить, является ли ход легальным в данной позиции |
| `get_legal_moves_tool` | Получить все легальные ходы в данной позиции |
| `get_game_status_tool` | Получить текущий статус игры (в процессе, мат и т.д.) |

## Возможности

- Надежная интеграция движка Stockfish с правильным управлением процессами
- Предоставляет функциональность движка через Model Context Protocol (MCP) с использованием FastMCP
- Поддерживает как SSE, так и stdio MCP транспорты для взаимодействия с клиентом
- Реализация протокола UCI для генерации шахматных ходов
- Комплексный набор тестов с подходом TDD
- Механизмы обработки ошибок и восстановления
- Поддержка FEN позиций и истории ходов
- Гибкая конфигурация бинарного файла движка

## Переменные окружения

### Опциональные
- `CHESSPAL_ENGINE_PATH` - Путь к бинарному файлу вашего движка Stockfish
- `CHESSPAL_ENGINE_NAME` - Имя движка (по умолчанию: stockfish)
- `CHESSPAL_ENGINE_VERSION` - Версия движка (по умолчанию: 17.1)
- `CHESSPAL_ENGINE_OS` - Операционная система (по умолчанию: автоопределение)
- `CHESSPAL_ENGINE_BINARY` - Имя бинарного файла (по умолчанию: stockfish, включите .exe для Windows)
- `CHESSPAL_ENGINE_DEPTH` - Глубина поиска движка (по умолчанию: 10)
- `CHESSPAL_ENGINE_TIMEOUT_MS` - Таймаут движка в миллисекундах (по умолчанию: 1000)
- `MCP_HOST` - Хост MCP сервера (по умолчанию: 127.0.0.1)

## Примеры использования

```
Какой лучший ход в этой шахматной позиции?
```

```
Проанализируй эту FEN позицию и предложи оптимальный ход
```

```
Является ли этот шахматный ход легальным в текущей позиции?
```

```
Покажи мне все легальные ходы, доступные в этой позиции
```

```
Каков текущий статус игры - это мат или пат?
```

## Ресурсы

- [GitHub Repository](https://github.com/wilson-urdaneta/chesspal-mcp-engine)

## Примечания

Требует бинарный файл шахматного движка Stockfish (рекомендуется версия 17.1). Может быть установлен через пакетные менеджеры, загружен с официальных релизов или скомпилирован из исходного кода. Сервер предоставляет настраиваемые таймауты для вычислений движка и поддерживает как программных клиентов через SSE, так и прямую интеграцию через stdio режим.