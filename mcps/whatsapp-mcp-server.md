---
title: WhatsApp MCP сервер
description: MCP сервер для подключения к вашему личному WhatsApp аккаунту через web API. Позволяет искать и читать сообщения, контакты, а также отправлять сообщения и медиафайлы в личные и групповые чаты.
tags:
- Messaging
- API
- Integration
- Media
- Storage
author: Community
featured: false
---

MCP сервер для подключения к вашему личному WhatsApp аккаунту через web API. Позволяет искать и читать сообщения, контакты, а также отправлять сообщения и медиафайлы в личные и групповые чаты.

## Установка

### Из исходного кода

```bash
git clone https://github.com/lharries/whatsapp-mcp.git
cd whatsapp-mcp
cd whatsapp-bridge
go run main.go
```

## Конфигурация

### Claude Desktop

```json
{
  "mcpServers": {
    "whatsapp": {
      "command": "{{PATH_TO_UV}}",
      "args": [
        "--directory",
        "{{PATH_TO_SRC}}/whatsapp-mcp/whatsapp-mcp-server",
        "run",
        "main.py"
      ]
    }
  }
}
```

### Cursor

```json
{
  "mcpServers": {
    "whatsapp": {
      "command": "{{PATH_TO_UV}}",
      "args": [
        "--directory",
        "{{PATH_TO_SRC}}/whatsapp-mcp/whatsapp-mcp-server",
        "run",
        "main.py"
      ]
    }
  }
}
```

## Доступные инструменты

| Инструмент | Описание |
|------|-------------|
| `search_contacts` | Поиск контактов по имени или номеру телефона |
| `list_messages` | Получение сообщений с опциональными фильтрами и контекстом |
| `list_chats` | Список доступных чатов с метаданными |
| `get_chat` | Получение информации о конкретном чате |
| `get_direct_chat_by_contact` | Поиск личного чата с определенным контактом |
| `get_contact_chats` | Список всех чатов с участием конкретного контакта |
| `get_last_interaction` | Получение последнего сообщения с контактом |
| `get_message_context` | Получение контекста вокруг определенного сообщения |
| `send_message` | Отправка WhatsApp сообщения на указанный номер телефона или JID группы |
| `send_file` | Отправка файла (изображение, видео, аудио, документ) указанному получателю |
| `send_audio_message` | Отправка аудиофайла как голосовое сообщение WhatsApp (требует .ogg opus файл или ffmpeg) |
| `download_media` | Скачивание медиафайлов из WhatsApp сообщения и получение локального пути к файлу |

## Возможности

- Поиск и чтение личных WhatsApp сообщений включая медиафайлы
- Отправка сообщений в личные и групповые чаты
- Отправка медиафайлов (изображения, видео, документы, аудио)
- Подключение к личному WhatsApp аккаунту через web multidevice API
- Локальное SQLite хранилище для истории сообщений
- QR код аутентификация для WhatsApp Web
- Автоматическое конвертирование аудио форматов с помощью FFmpeg
- Возможности скачивания и доступа к медиафайлам
- Поиск контактов и управление ими

## Примеры использования

```
Поиск сообщений от конкретного контакта
```

```
Отправка сообщения в WhatsApp группу
```

```
Скачивание медиафайлов из недавних разговоров
```

```
Поиск последнего взаимодействия с контактом
```

```
Отправка изображения или документа кому-то
```

## Ресурсы

- [GitHub Repository](https://github.com/lharries/whatsapp-mcp)

## Примечания

Требует Go, Python 3.6+, UV пакетный менеджер и опционально FFmpeg для конвертации аудио. Использует библиотеку whatsmeow для WhatsApp Web API. Аутентификация требуется каждые ~20 дней. На Windows требует включенный CGO и C компилятор (рекомендуется MSYS2). Подпадает под соображения безопасности 'lethal trifecta' для MCP серверов.