---
title: HLedger MCP сервер
description: MCP сервер, который предоставляет AI-ассистентам прямой доступ к данным и функциональности HLedger для ведения учета, позволяя запрашивать балансы счетов, генерировать финансовые отчеты, добавлять новые записи и анализировать учетные данные через стандартизированный протокол.
tags:
- Finance
- Analytics
- Productivity
- Database
- API
author: Community
featured: false
---

MCP сервер, который предоставляет AI-ассистентам прямой доступ к данным и функциональности HLedger для ведения учета, позволяя запрашивать балансы счетов, генерировать финансовые отчеты, добавлять новые записи и анализировать учетные данные через стандартизированный протокол.

## Установка

### NPX

```bash
npx @iiatlas/hledger-mcp /path/to/your/master.journal
```

### Из исходного кода

```bash
git clone <repository-url>
cd hledger-mcp
npm install
npm run build
```

## Конфигурация

### Claude Desktop (Базовая)

```json
{
  "mcpServers": {
    "hledger": {
      "command": "npx",
      "args": ["-y", "@iiatlas/hledger-mcp", "/path/to/your/master.journal"]
    }
  }
}
```

### Claude Desktop (Только чтение)

```json
{
  "mcpServers": {
    "hledger": {
      "command": "npx",
      "args": [
        "-y",
        "@iiatlas/hledger-mcp",
        "/path/to/your/master.journal",
        "--read-only"
      ]
    }
  }
}
```

### Claude Desktop (Переменные окружения)

```json
{
  "mcpServers": {
    "hledger": {
      "command": "npx",
      "args": ["-y", "@iiatlas/hledger-mcp", "/path/to/your/master.journal"],
      "env": {
        "HLEDGER_READ_ONLY": "true",
        "HLEDGER_EXECUTABLE_PATH": "/opt/homebrew/bin/hledger"
      }
    }
  }
}
```

## Доступные инструменты

| Инструмент | Описание |
|------|-------------|
| `hledger_accounts` | Просмотр и запросы названий счетов и их структуры |
| `hledger_balance` | Генерация отчетов о балансе с широкими возможностями настройки |
| `hledger_register` | Просмотр реестров транзакций и деталей проводок |
| `hledger_print` | Вывод записей журнала и транзакций |
| `hledger_balance_sheet` | Генерация отчетов о балансе |
| `hledger_balance_sheet_equity` | Отчеты о балансе с деталями капитала |
| `hledger_income_statement` | Генерация отчетов о прибылях и убытках |
| `hledger_cash_flow` | Анализ и отчеты о движении денежных средств |
| `hledger_stats` | Статистический анализ данных журнала |
| `hledger_activity` | Анализ активности счетов и частоты транзакций |
| `hledger_payees` | Список и анализ получателей платежей |
| `hledger_descriptions` | Анализ описаний транзакций |
| `hledger_tags` | Запросы и анализ тегов транзакций |
| `hledger_notes` | Список уникальных заметок транзакций и полей мемо |
| `hledger_files` | Список файлов данных, используемых hledger |

## Возможности

- Поддержка большинства CLI команд hledger
- Возможность получения и обхода !include'd файлов журнала
- Безопасный режим --read-only
- Комплексные возможности финансовой отчетности
- Инструменты модификации транзакций с поддержкой dry-run
- Автоматическое создание резервных копий перед модификацией
- Интеграция с веб-интерфейсом hledger
- Регистрация MCP ресурсов для просмотра исходных реестров
- Диапазоны дат, форматы вывода и фильтрация счетов
- Статистический анализ и отслеживание активности

## Переменные окружения

### Опциональные
- `HLEDGER_READ_ONLY` - Установите в 'true' для принудительного режима только чтения
- `HLEDGER_SKIP_BACKUP` - Установите в 'true' для отключения автоматических .bak резервных копий
- `HLEDGER_EXECUTABLE_PATH` - Абсолютный путь к конкретному бинарному файлу hledger, если он не в PATH
- `HLEDGER_WEB_EXECUTABLE_PATH` - Абсолютный путь к отдельному бинарному файлу hledger web для веб-интерфейса

## Примеры использования

```
Какой у меня текущий баланс счета?
```

```
Покажи мне балансовый отчет за последний квартал
```

```
Какими были мои расходы в категории еда в прошлом месяце?
```

```
Сгенерируй отчет о доходах за 2024 год
```

```
Кто мои топ получатели платежей по объему транзакций?
```

## Ресурсы

- [GitHub Repository](https://github.com/iiAtlas/hledger-mcp)

## Примечания

Требует установки HLedger с доступностью в системном PATH. Необходим Node.js версии 18 или выше. Доступен как файл .mcpb из релизов или через npm как @iiatlas/hledger-mcp. Аргументы CLI имеют приоритет над переменными окружения для параметров конфигурации.